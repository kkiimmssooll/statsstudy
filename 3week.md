# ch2. 데이터와 표본분포

## 2.1 임의표본추출과 표본편향
표본 = 더 큰 데이터 집합(모집단)으로부터 얻은 데이터의 부분집합
> **임의표본추출** : 모집단 내의 선택 가능한 원소들을 무작위로 추출하는 과정 -> 단순임의표본

데이터 품질 : 완결성, 형식의 일관성, 깨끗함, 각 데이터 값의 정확성(+대표성)

비임의 : 랜덤표본이라고 해도 어떤 표본도 모집단을 정확하게 대표할 수 없음 -> 표본편향이 발생할 수 있음

> **층화표본추출** : 모집단을 여러 층으로 나누고 각 층에서 무작위로 샘플 추출 -> 특정 계층의 수가 적은 경우 해당 층에 높은 가중치를 부여

```
연관된 레코드를 얻기 위해서는 수조의 데이터 포인트가 필요함, 이 경우 임의표본추출은 도움이 되지 않음
왜? -> 희귀하거나 드문 연관성을 찾을 때 효과적이지 않다는 말!!
ex) 데이터가 수조건이 있는데, 사기 거래가 1,000건으로 희귀한 경우에
임의표본추출로 1만건 샘플링을 한다면 사기 거래는 거의 안 뽑힐 확률이 높음 -> 연관된 레코드(사기 거래 패턴을 보여주는 것들)를 관찰할 수 없게 됨 
```

## 2.2 선택편향
> 선택편향 : 데이터를 의식적이든 *무의식적이든* 선택적으로 고르는 편향
ex. 비임의표본추출, 데이터 체리 피킹, 특정한 통계적 효과를 강조하는 시간 구간 선택, 흥미로운 결과가 나올 때 실험 중단


## 2.3 통계학에서의 표본분포
```
표본통계량 : 모집단에서 추출된 표본 데이터들로부터 얻은 측정 지표
데이터 분포 : 데이터 집합에서의 각 개별 값의 도수분포 = 전체 데이터(모집단)가 어떻게 퍼져 있는가
표본분포 : 여러 표본들 혹은 재표본들로부터 얻은 표본통계량의 도수분포
중심극한정리 : 표본크기가 커질수록 표본분포가 정규분포를 따르는 경향 -> 모집단이 정규분포가 아니더라도 표본통계량은 보통 정규분포를 따름름
표준오차 : 여러 표본들로부터 얻은 표본통계량의 변량(표준편차와 다름!)
```

## 2.4 부트스트랩
부트스트랩 : 현재 있는 표본에서 추가적으로 표본을 복원추출하고 각 표본에 대한 통계량과 모델을 닫시 계산하는 것
<-> 재표본추출 : 여러 표본이 결합되어 비복원추출을 수행할 수 있는 순열 과정을 포함 <- 순열 방식으로 그룹을 바꿔가며 차이가 우연인지 확인하는 데 사용([1,2,3],[4,5,6]->[3,5,6],[1,2,4])

## 2.5 신뢰구간
**부트스트랩 신뢰구간 구하기**
1. 데이터에서 복원추출 방식으로 크기 n인 표본 뽑기(재표본추출)
2. 재표본추출한 표본에 대해 원하는 통계량 기록
3. 1~2단계를 R번 반복
4. x% 신뢰구간을 구하기 위해, R개의 재표본 결과의 분포 양쪽 끝에서 [(100-x)/2]%만큼 잘라냄
5. 절단한 점들은 x% 부트스트랩 신뢰구간의 양 끝점
-> 신뢰수준이 높을수록/표본이 작을수록 구간이 넓어짐(=불확실성이 더 커짐)

## 2.6 정규분포
QQ그림: 표본이 특정 분포에 얼마나 가까운지를 시각적으로 판별하느데 사용
- z점수를 오름차순으로 정렬 후 각 값의 z점수를 y축에 표시
- x축은 정규분포에서의 해당 분위수를 나타냄
- 데이터가 표준화되었으므로 단위는 평균으로부터 떨어진 데이터의 표준편차 수에 해당

## 2.7 긴 꼬리 분포
```
꼬리 : 적은 수의 극단값이 주로 존재하는, 도수분포의 길고 좁은 부분
왜도 : 분포의 한쪽 꼬리가 반대쪽 다른 꼬리보다 긴 정도
```

## 2.8 스튜던트의 t분포
- 표본통계량의 분포를 설명하는 데 광범위하게 사용
- 표본평균의 분포는 일반적으로 t분포와 같은 모양
- 표본크기에 따라 다르 계열의 t분포가 있음
- 표본이 클수록 더 정규분포를 닮은 t분포가 형성

## 2.9 이항분포
> 한 번의 클릭이 판매로 이어질 확률이 0.02일 때, 200회 클릭으로 0회 매출을 관찰할 확률은?

## 2.10 카이제곱분포
카이제곱통계량 : 검정 결과가 독립성에 대한 귀무 기댓값에서 벗어난 정도를 측정하는 통계량
-> 개수 집합(각 범주마다 나온 횟수를 모아놓은 것)에 대해 카이제곱 값이 낮다는 것은 기대 분포를 거의 따르고 있음을 나타냄

## 2.11 F분포
```
- 그룹 평균 간의 차이가 정규 무작위 변동에서 예상할 수 있는 것보다 얼마나 큰가?
- 각 그룹 내 변동성(잔차 변동성)에 대한 그룹 평균 간 변동성의 비율
=> 분산분석(ANOVA)
```

## 2.12 푸아송 분포와 그 외 관련 분포들
``` 
람다 : 단위 시간이나 단위 면적당 사건이 발생하는 비율
푸아송 분포 : 표집된 단위 시간 혹은 단위 공간에서 발생한 사건의 도수분포
지수분포 : 한 사건에서 그다음 사건까지의 시간이나 거리에 대한 도수분포
베이불 분포 : 사건 발생률이 시간에 따라 변화하는, 지수분포의 일반화된 버전
```
1. 푸아송 분포
```
stats.poisson.rvs(2, size=100) 
# 람다가 2, 난수 100개 생성->1분당 평균 2회로 문의가 접수되면, 100분을 시뮬레이션하여 100분당 문의 전화횟수
# 푸아송 분포의 분산이 람다라고 했는데, 그럼 람다=분산? -> 맞음, 푸아송에서는 람다가 평균이자 분산임
> 이항분포의 분산: np(1-p)
→ p가 매우 작으면 → (1-p) ≈ 1
→ 분산 ≈ np = 평균
# 일정 시간/공간 안에 사건이 몇 번 발생했는지지
```
2. 지수분포
```
stats.expon.rvs(scale=1/0.2,size=100)
# 분당 평균적으로 0.2회 문의가 오는 경우 100분 동안의 문의를 시뮬레이션
# 사건 사이의 시간 간격(얼마만에 발생하는지)
```
3. 베이불 분포
- 지수분포를 확장한 것
- 척도변수 에타를 사용
- 사건발생률 대신 고장 시간 분석에 사용
```
stats.weibull_min.rvs(1.5,scale=5000,size=100)
```



